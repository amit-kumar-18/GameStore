<div class="filters">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    (ngModelChange)="applyFilters()"
    placeholder="Search by Game"
  />

  <select [(ngModel)]="selectedGenre" (change)="applyFilters()">
    <option value="">All Genres</option>
    <option *ngFor="let genre of genres" [value]="genre.name">
      {{ genre.name }}
    </option>
  </select>

  <input
    type="number"
    [(ngModel)]="maxPrice"
    (ngModelChange)="applyFilters()"
    placeholder="Max Price"
  />
  <button type="button" (click)="resetFilters()">Reset Filters</button>
</div>

<div class="game-cards-container">
  <div class="game-card" *ngFor="let game of filteredGames">
    <div class="game-card-header">
      <img
        [src]="game.imageUrl || 'placeholder.jpg'"
        alt="{{ game.name }}"
        class="game-card-image"
      />
      <h3 class="game-card-title">{{ game.name }}</h3>
    </div>

    <div class="game-card-body">
      <p class="game-card-detail"><strong>Genre:</strong> {{ game.genre }}</p>
      <p class="game-card-detail game-card-price">
        <strong>Price:</strong> ₹{{ game.price }}
      </p>
      <p class="game-card-detail">
        <strong>Release Date:</strong>
        {{ game.releaseDate | date : "mediumDate" }}
      </p>
      <p class="game-card-detail">
        <strong>Publisher:</strong> {{ game.publisher }}
      </p>
      <p class="game-card-description">{{ game.description }}</p>
    </div>

    <div class="game-card-footer">
      <div class="game-card-meta">
        <span class="meta-item" *ngIf="game.createdAt">
          Created: {{ game.createdAt | utcToIst }} ST
        </span>
        <span class="meta-item" *ngIf="game.updatedAt">
          Updated: {{ game.updatedAt | utcToIst }} IST
        </span>
      </div>
      <div class="game-card-actions">
        <button class="btn btn-edit" (click)="editGame(game.id)">
          <span class="icon">✏️</span> Edit
        </button>
        <button class="btn btn-delete" (click)="deleteGame(game.id)">
          <span class="icon">🗑️</span> Delete
        </button>
      </div>
    </div>
  </div>
</div>
